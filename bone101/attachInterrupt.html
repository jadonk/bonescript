<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"> 
<head> 
 <title>Bonescript: attachInterrupt</title>
 <script src="client.js" charset="utf-8" type="text/javascript"></script> 
 <link rel="icon" href="favicon.ico" type="image/x-icon" />
 <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
</head>
<body>
 <h1>Bonescript: attachInterrupt</h1>
 <p>
  <button class="dynlink" onclick="demoRun('code')">Run</button>
  <button class="dynlink" onclick="demoEdit('code')">Editor</button>
  <button class="dynlink" onclick="openJSTerm('js_term')">Interpreter</button>
 </p>
 <p>Last value read was: <b><span id="attachInterruptValue">unknown</span></b></p>
 <hr />
 <pre id="code">
pinMode(bone.P8_5, 'in');

function interruptHandler(x) { return({'value': x.value}); }
function interruptCallback(x) {
 if(x.output) $('#attachInterruptValue').text(x.output.value);
}
attachInterrupt(bone.P8_5, interruptHandler, 'both', interruptCallback);

stopTimer = function() {
 detachInterrupt(bone.P8_5);
};
setTimeout(stopTimer, 12000);
</pre>
 <hr />
 <div id="js_term"></div>
</body>
</html>
